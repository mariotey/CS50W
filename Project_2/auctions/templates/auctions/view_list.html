{% extends "auctions/layout.html" %}

{% block body %}
    <!-- Title of the List -->
    <h2>Listing: {{ view_list.title }}</h2><br>

    <!-- Details about the listing, including the current price -->
    <div style="display:flex; justify-content: center;">
        <img src="{{ view_list.image_url }}" height="200px"/>
    </div>

    <div>{{ view_list.description }}</div><br>

    <div style="font-size: 30px; font-weight: bolder;">${{ view_list.start_bid }}</div>

    <div>{{ view_list.bid_counter }} bid(s) so far.</div>

    <!-- Upon sign in, user should be able to bid item, add or remove from Watchlist -->
    {% if view_list.active_stat == True %}
        <form style="display: flex;">
            <div>
                <input type="number" min="{{view_list.start_bid}}">
            </div>
            <div style="width: 150px; margin: 0px 10px 0px 10px;">
                <button type="submit" style="margin-bottom: 5px"> Place Bid </button>
            </div>
        </form>

        <button style = "margin-bottom: 5px"> Add to Watchlist </button>

        {% if view_list.creator.username == user.username %}  
        <a href="/close_auc/{{view_list.title}}"><button>Close Auction</button></a>
        {% endif %}

        <br>
        
    {% else %}
        <div> The auction has been closed </div>
    {% endif %}

    <br>

    <div><strong>Details</strong></div>
    <li> Listed by: {{ view_list.creator }} </li>
    <li> Category: {{ view_list.category }} </li> 
 
    <!-- Upon sign in, if item is created by the user, they can "close" the auction, making the highest bidder the winner and the listing becomes unavailable -->
  

    <!-- Upon sign in, if the user won the auction, the closed page would say so -->
    
    <!-- Users should be able to add comments to the listing page -->

{% endblock %}


